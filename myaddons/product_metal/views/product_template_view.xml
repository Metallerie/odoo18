<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Surcharge de la vue produit -->
        <template id="product_quantity_surcharge" inherit_id="website_sale.product">
            <xpath expr="//input[@name='add_qty']" position="attributes">
                <!-- La valeur par défaut reflète la précision définie -->
                <attribute name="t-att-value">combination_info['default_qty'] or 1.0</attribute>
                <attribute name="t-att-step">combination_info['uom_precision']</attribute>
            </xpath>
        </template>

        <!-- Modifier le sélecteur de quantité dans le panier -->
        <template id="cart_quantity_surcharge" inherit_id="website_sale.cart_lines">
            <xpath expr="//input[contains(@class, 'js_quantity')]" position="attributes">
                <attribute name="t-att-data-uom_precision">line.product_id.uom_precision</attribute>
            </xpath>
        </template>
</odoo>
