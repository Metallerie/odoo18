<odoo>
    <template id="product_metal_quantity_unit" inherit_id="website_sale.product">
        <xpath expr="//div[contains(@class, 'o_we_snippet_inject')]" position="before">
            <t t-if="'metal-au-metre-2' in product.public_categ_ids.mapped('website_slug')">
                <div class="input-group my-3" id="unit_selector_group">
                    <label class="input-group-text" for="unit_selector">Unité</label>
                    <select id="unit_selector" class="form-select">
                        <option value="1" selected="selected">Mètre (m)</option>
                        <option value="0.01">Centimètre (cm)</option>
                        <option value="0.001">Millimètre (mm)</option>
                    </select>
                </div>
            </t>
        </xpath>
    </template>

    <template id="product_metal_quantity_input_patch" inherit_id="website_sale.product">
        <xpath expr="//input[@name='add_qty']" position="attributes">
            <attribute name="step">0.001</attribute> <!-- (ça on garde en forçant même si l'input est JS) -->
        </xpath>
    </template>
</odoo>
