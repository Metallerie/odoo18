<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="product_metal_quantity_unit" inherit_id="website_sale.product">
        <xpath expr="//div[contains(@class, 'css_quantity')]" position="after">
            <t t-if="'metal-au-metre-2' in product.public_categ_ids.mapped('website_slug')">
                <div class="input-group mt-2" id="unit_selector_group">
                    <label class="input-group-text" for="unit_selector">Unité</label>
                    <select id="unit_selector" class="form-select">
                        <option value="1" selected="selected">Mètre (m)</option>
                        <option value="0.01">Centimètre (cm)</option>
                        <option value="0.001">Millimètre (mm)</option>
                    </select>
                </div>
            </t>
        </xpath>
    </template>

    <template id="product_metal_quantity_input_patch" inherit_id="website_sale.product">
        <xpath expr="//input[@name='add_qty']" position="attributes">
            <attribute name="step">0.001</attribute> <!-- Autoriser trois décimales -->
        </xpath>
    </template>
</odoo>
